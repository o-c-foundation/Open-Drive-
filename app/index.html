<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/png" href="https://bafkreihge6rx6ykdcdmspwvh4oweojqsvzoyhjgqp6yfqkgo2b45l27auq.ipfs.w3s.link/" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OpenDrive - Secure Decentralized Storage | Open Crypto Foundation</title>
    
    <!-- Primary Meta Tags -->
    <meta name="description" content="Store, share and manage your files securely on the decentralized web with OpenDrive - the next generation storage platform by The Open Crypto Foundation." />
    <meta name="keywords" content="decentralized storage, IPFS, file storage, secure storage, crypto storage, blockchain storage, web3 storage" />
    <meta name="author" content="The Open Crypto Foundation" />
    <meta name="theme-color" content="#3B82F6" />
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website" />
    <meta property="og:url" content="https://app.opendrive.opencrypto.org/" />
    <meta property="og:title" content="OpenDrive - Secure Decentralized Storage" />
    <meta property="og:description" content="Store, share and manage your files securely on the decentralized web with OpenDrive by The Open Crypto Foundation." />
    <meta property="og:image" content="https://bafkreihge6rx6ykdcdmspwvh4oweojqsvzoyhjgqp6yfqkgo2b45l27auq.ipfs.w3s.link/" />
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image" />
    <meta property="twitter:url" content="https://app.opendrive.opencrypto.org/" />
    <meta property="twitter:title" content="OpenDrive - Secure Decentralized Storage" />
    <meta property="twitter:description" content="Store, share and manage your files securely on the decentralized web with OpenDrive by The Open Crypto Foundation." />
    <meta property="twitter:image" content="https://bafkreihge6rx6ykdcdmspwvh4oweojqsvzoyhjgqp6yfqkgo2b45l27auq.ipfs.w3s.link/" />
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Courier+Prime:wght@400;700&family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- PWA -->
    <link rel="manifest" href="/manifest.json" />
    <link rel="apple-touch-icon" href="https://bafkreihge6rx6ykdcdmspwvh4oweojqsvzoyhjgqp6yfqkgo2b45l27auq.ipfs.w3s.link/" />
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <style>
      #fallback-content {
        display: none;
        font-family: 'Inter', sans-serif;
        padding: 2rem;
        max-width: 800px;
        margin: 0 auto;
        text-align: center;
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        background-color: rgba(255, 255, 255, 0.95);
        border-top: 3px solid #3B82F6;
        box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.1);
        z-index: 9999;
      }
      .fallback-heading {
        font-size: 1.5rem;
        margin-bottom: 1rem;
        color: #3B82F6;
      }
      .fallback-error {
        color: #EF4444;
        padding: 1rem;
        border: 1px solid #EF4444;
        border-radius: 0.25rem;
        margin: 1rem 0;
        font-family: monospace;
        text-align: left;
        white-space: pre-wrap;
        overflow-x: auto;
        max-height: 200px;
        overflow-y: auto;
      }
      .fallback-close {
        position: absolute;
        top: 10px;
        right: 10px;
        background: none;
        border: none;
        font-size: 1.5rem;
        cursor: pointer;
        color: #6B7280;
      }
      .fallback-close:hover {
        color: #EF4444;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <div id="fallback-content">
      <h1 class="fallback-heading">OpenDrive - Loading Failed</h1>
      <p>The application failed to load. See details below:</p>
      <div id="error-container" class="fallback-error">Looking for errors...</div>
      <button class="fallback-close" onclick="document.getElementById('fallback-content').style.display = 'none';">Close</button>
    </div>
    <script>
      // Error handling to detect why the app isn't rendering
      window.addEventListener('error', function(e) {
        console.error('Caught error:', e);
        
        // Ignore errors from browser extensions
        if (e.filename && (
            e.filename.includes('chrome-extension://') ||
            e.filename.includes('moz-extension://') ||
            e.filename.includes('extension://') ||
            e.filename.includes('safari-extension://'))
        ) {
          console.log('Ignoring browser extension error:', e.message);
          return;
        }
        
        document.getElementById('fallback-content').style.display = 'block';
        document.getElementById('error-container').textContent = 
          'Error: ' + e.message + '\n' +
          'File: ' + e.filename + '\n' +
          'Line: ' + e.lineno + ', Column: ' + e.colno + '\n\n' +
          'Stack Trace:\n' + (e.error && e.error.stack ? e.error.stack : 'Not available');
      });
      
      // If React doesn't start within 3 seconds, show fallback
      setTimeout(function() {
        if (document.getElementById('root').children.length === 0) {
          document.getElementById('fallback-content').style.display = 'block';
          document.getElementById('error-container').textContent = 
            'No rendering errors detected, but the application did not load within 3 seconds.\n\n' +
            'This could indicate:\n' +
            '- JavaScript files failed to load\n' +
            '- Environment variables are missing\n' +
            '- API endpoints are unreachable\n' +
            '- A silent error is preventing React from mounting';
        } else {
          // If the app has loaded, make sure the fallback is hidden
          document.getElementById('fallback-content').style.display = 'none';
        }
      }, 3000);
    </script>
    <script type="module" src="/src/main.tsx"></script>
    <!-- Preload key assets -->
    <link rel="preload" as="image" href="https://bafkreihge6rx6ykdcdmspwvh4oweojqsvzoyhjgqp6yfqkgo2b45l27auq.ipfs.w3s.link/" />
  </body>
</html> 